<div class="container mt-4 d-flex justify-content-center">
  <div class="registration-form">
    <h1 class="text-center">Registration Form</h1>
    <form #regForm="ngForm" (ngSubmit)="onSubmit()" novalidate>
      <div class="form-group">
        <label>Name</label>
        <input type="text" [(ngModel)]="user.name"
               name="name" ngModel required class="form-control"
               (blur)="validateName()" placeholder="Enter Name"
               (keypress)="restrictToLetters($event)" maxlength="30">
        <div class="error" *ngIf="regForm.controls['name']?.touched">
          {{nameErrorMsg}}
        </div>
      </div>

      <div class="form-group">
        <label>Email ID</label>
        <input type="email" [(ngModel)]="user.email" name="email" ngModel required class="form-control" (blur)="validateEmail()" placeholder="Enter Email">

        <div class="error" *ngIf="regForm.controls['email']?.touched">
          {{emailErrorMsg}}
        </div>
      </div>

      <div class="form-group">
        <label>Phone Number</label>
        <input type="text" [(ngModel)]="user.phoneNumber"
               name="phoneNumber" ngModel required class="form-control"
               (blur)="validatePhone()" placeholder="Enter Phone Number"
               (keypress)="restrictToNumbers($event)" maxlength="10">
        <div class="error" *ngIf="regForm.controls['phoneNumber']?.touched">
          {{phoneErrorMsg}}
        </div>
      </div>


      <div class="form-group">
        <label>Password</label>
        <input [type]="passwordFieldType" id="password" [(ngModel)]="user.password" name="password" required (blur)="validatePassword()" class="form-control">
        <span *ngIf="user.password && user.password.length > 0" class="toggle-password" (click)="togglePasswordVisibility()">
          {{ passwordFieldType === 'password' ? 'Show' : 'Hide' }}
        </span>
      </div>
      <div *ngIf="passwordErrorMsg" class="error">
        {{ passwordErrorMsg }}
      </div>



      <div class="form-group">
        <label>Confirm Password</label>
        <input [type]="confirmPasswordFieldType" id="confirmPassword" [(ngModel)]="user.confirmPassword" name="confirmPassword" required (blur)="validateConfirmPassword()" class="form-control">
        <span *ngIf="user.confirmPassword && user.confirmPassword.length > 0" class="toggle-password" (click)="toggleConfirmPasswordVisibility()">
          {{ confirmPasswordFieldType === 'password' ? 'Show' : 'Hide' }}
        </span>
      </div>
      <div *ngIf="confirmpasswordErrorMsg" class="error">
        {{ confirmpasswordErrorMsg }}
      </div>


      <div class="form-group">
        <label>Role</label>
        <select [(ngModel)]="user.role" name="role" ngModel required class="form-control">
          <option value="" disabled selected>Select Role</option>
          <option value="customer">Customer</option>
          <option value="vendor">Vendor</option>
        </select>
      </div>

      <app-captcha></app-captcha>
      <button type="submit" class="btn btn-primary" [disabled]="!regForm.valid">Register</button>
    </form>
  </div>
</div>
