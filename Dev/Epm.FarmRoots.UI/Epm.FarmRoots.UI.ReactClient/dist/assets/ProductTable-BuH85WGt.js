import{j as e,u as h,a as m,b as j,r as p,T as N,d as b}from"./index-BpTD0QSM.js";const g=()=>e.jsx("div",{className:"animate-pulse",children:[...Array(5)].map((l,r)=>e.jsx("div",{className:"flex space-x-4 p-4",children:e.jsxs("div",{className:"flex-1 space-y-4 py-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]})},r))}),f=({products:l,loading:r})=>{const d=h(),i=m(),{categories:t}=j(s=>s.categories);if(console.log("mm",t.map(s=>s._id)),r)return e.jsx(g,{});const n=s=>{d(`/vendor-edit/${s}`)},o=s=>{window.confirm("Are you sure you want to delete this product?")&&i(b(s))},x=([s])=>{const a=t==null?void 0:t.find(c=>(console.log("id",c._id),console.log("nn",s),c._id===s));return a!=null&&a.name?a==null?void 0:a.name:"No Category"};return e.jsxs("div",{className:"overflow-x-auto",children:[e.jsx(p.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(N,{})}),e.jsxs("table",{className:"min-w-full bg-white border border-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-200",children:[e.jsx("th",{className:"p-2 text-left",children:"Name"}),e.jsx("th",{className:"p-2 text-left",children:"Stock"}),e.jsx("th",{className:"p-2 text-left",children:"MR Price"}),e.jsx("th",{className:"p-2 text-left",children:"Product Cost"}),e.jsx("th",{className:"p-2 text-left",children:"Sale Price"}),e.jsx("th",{className:"p-2 text-left",children:"Category"}),e.jsx("th",{className:"p-2 text-left",children:"Action"})]})}),e.jsx("tbody",{children:l.length>0?l.map(s=>e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("td",{className:"p-2",children:s.product_name}),e.jsx("td",{className:"p-2",children:s.inventory.stock_quantity}),e.jsx("td",{className:"p-2",children:s.price.mr_price}),e.jsxs("td",{className:"p-2",children:["$",s.price.product_cost]}),e.jsxs("td",{className:"p-2",children:["$",s.price.sale_price]}),e.jsx("td",{className:"p-2",children:x(s.category)}),e.jsx("td",{className:"p-2",children:s._id?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>n(s._id),className:"text-blue-500 hover:text-blue-700 mr-2",children:"Edit"}),e.jsx("button",{onClick:()=>o(s._id),className:"text-red-500 hover:text-red-700",children:"Delete"})]}):e.jsx("span",{children:"No ID"})})," "]},s._id)):e.jsxs("tr",{children:[e.jsx("td",{colSpan:6,className:"p-2 text-center",children:"No products found"})," "]})})]})]})};export{f as default};
